@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/*
  ==============================================
  MODERN THEMATIC PROGRESS BAR
  ==============================================
*/
.progress-bar-container {
  @apply w-full bg-neutral-200 rounded-full h-2.5 overflow-hidden;
}

.progress-bar-animated {
  @apply h-full w-full;
  /* Using the literal hex codes from the tailwind.config.js file */
  background-image: linear-gradient(
    90deg,
    #2E8540, /* brand.light */
    #3395FF, /* accent.light */
    #2E8540  /* brand.light */
  );
  background-size: 300% 100%;
  animation: progress-animation 2.5s ease-in-out infinite;
}

@keyframes progress-animation {
  0% { background-position: 100% 0; }
  100% { background-position: -100% 0; }
}


/*
  ==============================================
  CUSTOM MAP CONTROL STYLES
  ==============================================
*/

/* --- Base Layer Control --- */
.leaflet-control-layers {
  @apply bg-white/80 backdrop-blur-md shadow-[0_4px_12px_rgba(0,0,0,0.05)] border-none rounded-xl p-1;
}
.leaflet-control-layers-base label span {
  @apply text-neutral-800 font-medium text-sm;
}
.leaflet-control-layers-selector {
  @apply mt-0.5;
}


/* --- Geocoder Search Bar --- */
/* Wrapper for positioning */
.geosearch-wrapper {
  @apply absolute top-4 left-1/2 -translate-x-1/2 z-[1000];
}

/* Main input container */
.geosearch-container {
 @apply relative w-72 md:w-96;
}

.geosearch-input-wrapper {
  @apply flex items-center bg-white/80 backdrop-blur-md shadow-[0_4px_12px_rgba(0,0,0,0.05)] rounded-xl border border-transparent focus-within:ring-2 transition-all;
  @apply focus-within:border-[#007AFF80] focus-within:ring-[#007AFF33]; /* accent/50 and accent/20 */
}

/* Search Icon */
.geosearch-icon {
  @apply pl-4 pr-2 text-neutral-400;
}

/* The text input field */
.geosearch-input {
  @apply h-12 w-full pr-10 border-none text-sm font-sans placeholder-neutral-500 bg-transparent outline-none text-neutral-800;
}

/* The "clear" (X) button */
.geosearch-clear-button {
  @apply absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-full text-neutral-500 hover:bg-neutral-200 hover:text-neutral-700 transition-colors;
}

/* The dropdown results panel */
.geosearch-results-dropdown {
  @apply absolute top-full mt-2 w-full bg-white/90 backdrop-blur-md shadow-[0_6px_16px_rgba(0,0,0,0.08)] rounded-xl border-[#E6E6E680] z-[1000] overflow-hidden; /* neutral.200/50 */
}
.geosearch-results-dropdown > div {
  @apply text-sm px-4 py-3 border-b-[#E6E6E6CC] cursor-pointer transition-colors text-neutral-700; /* neutral.200/80 */
}
.geosearch-results-dropdown > div:last-child {
  @apply border-b-0;
}

.geosearch-results-dropdown > div:hover {
  @apply bg-[#007AFF] text-white; /* accent */
}

/* Locate Me Button --- FIX APPLIED HERE --- */
.locate-me-button-wrapper {
  /* Moved button up to avoid overlap with bottom controls */
  @apply absolute bottom-28 right-4 z-[1000];
}
.locate-me-button {
  @apply p-3 bg-white/80 backdrop-blur-md rounded-full shadow-[0_4px_12px_rgba(0,0,0,0.05)] hover:bg-white transition-colors border-[#E6E6E680]; /* neutral.200/50 */
}

/*
  ==============================================
  MOBILE RESPONSIVENESS: RESULTS TABLE
  ==============================================
*/
@media (max-width: 767px) {
  .mobile-cards-table thead {
    @apply hidden;
  }

  .mobile-cards-table tr {
    @apply block border-2 border-gray-200 rounded-xl mb-4 shadow-sm bg-white;
  }

  .mobile-cards-table td {
    @apply flex justify-between items-center text-right p-3 border-b border-gray-100;
  }

  .mobile-cards-table td:last-child {
    @apply border-b-0;
  }

  .mobile-cards-table td::before {
    content: attr(data-label);
    @apply font-semibold text-gray-600 text-left pr-4;
  }

  /* Right-align all data cells by default, then override as needed */
  .mobile-cards-table td {
    @apply text-right;
  }
  
  /* Left-align specific columns that look better that way */
  .mobile-cards-table td[data-label="File"],
  .mobile-cards-table td[data-label="Species"],
  .mobile-cards-table td[data-label="Condition"],
  .mobile-cards-table td[data-label="Ownership"] {
    @apply text-left;
  }
  
  /* Center the actions */
  .mobile-cards-table td[data-label="Actions"] {
    @apply justify-center;
  }
  .mobile-cards-table td[data-label="Actions"]::before {
    /* Hide the label for the centered action button */
    @apply content-none;
  }

  /* Ensure long file names and species names can wrap */
  .mobile-cards-table td[data-label="File"],
  .mobile-cards-table td[data-label="Species"] {
    @apply whitespace-normal max-w-full;
  }
}