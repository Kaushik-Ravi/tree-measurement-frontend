@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/*
  ==============================================
  MODERN THEMATIC PROGRESS BAR
  ==============================================
*/
.progress-bar-container {
  @apply w-full bg-neutral-200 rounded-full h-2.5 overflow-hidden;
}

.progress-bar-animated {
  @apply h-full w-full;
  background-image: linear-gradient(
    90deg,
    #2E8540,
    #3395FF,
    #2E8540
  );
  background-size: 300% 100%;
  animation: progress-animation 2.5s ease-in-out infinite;
}

@keyframes progress-animation {
  0% { background-position: 100% 0; }
  100% { background-position: -100% 0; }
}


/*
  ==============================================
  CUSTOM MAP CONTROL STYLES
  ==============================================
*/
.leaflet-control-layers {
  @apply bg-white/80 backdrop-blur-md shadow-[0_4px_12px_rgba(0,0,0,0.05)] border-none rounded-xl p-1;
}
.leaflet-control-layers-base label span {
  @apply text-neutral-800 font-medium text-sm;
}
.leaflet-control-layers-selector {
  @apply mt-0.5;
}

/*
  ==============================================
  MOBILE RESPONSIVENESS - SURGICAL ADDITIONS
  ==============================================
*/
@media (max-width: 767px) {
  /* --- Core Layout Orchestration --- */
  .mobile-focus-view #control-panel {
    @apply absolute bottom-0 left-0 w-full bg-gray-50 z-20;
    @apply border-t border-gray-200 rounded-t-2xl shadow-[0_-4px_20px_rgba(0,0,0,0.1)];
    max-height: 80vh;
    overflow-y: auto;
    transition: height 0.3s ease-in-out;
  }

  .mobile-focus-view #display-panel {
    @apply fixed inset-0 z-10 p-0;
  }

  .mobile-focus-view #image-canvas {
    @apply w-full h-full rounded-none;
  }
  
  /* Hide desktop-only content when in mobile focus view */
  .mobile-focus-view #control-panel > *:not(:last-child) {
    @apply hidden;
  }
  .mobile-focus-view #control-panel > div:last-child {
    @apply mt-0 pt-0 border-none;
  }

  /* --- Results Table Mobile Cards --- */
  .mobile-cards-table thead {
    @apply hidden;
  }
  .mobile-cards-table tr {
    @apply block border-2 border-gray-200 rounded-xl mb-4 shadow-sm bg-white;
  }
  .mobile-cards-table td {
    @apply flex justify-between items-center text-right p-3 border-b border-gray-100;
  }
  .mobile-cards-table td:last-child {
    @apply border-b-0;
  }
  .mobile-cards-table td::before {
    content: attr(data-label);
    @apply font-semibold text-gray-600 text-left pr-4;
  }
  .mobile-cards-table td {
    @apply text-right;
  }
  .mobile-cards-table td[data-label="File"],
  .mobile-cards-table td[data-label="Species"],
  .mobile-cards-table td[data-label="Condition"],
  .mobile-cards-table td[data-label="Ownership"] {
    @apply text-left;
  }
  .mobile-cards-table td[data-label="Actions"] {
    @apply justify-end md:justify-center;
  }
  .mobile-cards-table td[data-label="File"],
  .mobile-cards-table td[data-label="Species"] {
    @apply whitespace-normal max-w-full;
  }
}